#!/usr/bin/python3

from poseidon import poseidon


def main():
    '''
        Tests Poseidon Hash function implementation where test cases
        are adapted from https://github.com/iden3/go-iden3-crypto/blob/f597e20569647d70f5eb4d3afde13c69d944a262/poseidon/poseidon_test.go#L12-L94
    '''
    assert poseidon(
        [1]) == 18586133768512220936620570745912940619677854269274689475585506675881198879027
    assert poseidon(
        [1, 2]) == 7853200120776062878684798364095072458815029376092732009249414926327459813530
    assert poseidon(
        [1, 2, 0, 0, 0]) == 1018317224307729531995786483840663576608797660851238720571059489595066344487
    assert poseidon(
        [1, 2, 0, 0, 0, 0]) == 15336558801450556532856248569924170992202208561737609669134139141992924267169
    assert poseidon(
        [3, 4, 0, 0, 0]) == 5811595552068139067952687508729883632420015185677766880877743348592482390548
    assert poseidon(
        [3, 4, 0, 0, 0, 0]) == 12263118664590987767234828103155242843640892839966517009184493198782366909018
    assert poseidon(
        [1, 2, 3, 4, 5, 6]) == 20400040500897583745843009878988256314335038853985262692600694741116813247201
    assert poseidon([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
                    ) == 8354478399926161176778659061636406690034081872658507739535256090879947077494
    assert poseidon([1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 0, 0, 0, 0]
                    ) == 5540388656744764564518487011617040650780060800286365721923524861648744699539
    assert poseidon([1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 0, 0, 0, 0, 0, 0]
                    ) == 11882816200654282475720830292386643970958445617880627439994635298904836126497
    assert poseidon([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]
                    ) == 9989051620750914585850546081941653841776809718687451684622678807385399211877

    print('passed all poseidon test cases !')


if __name__ == '__main__':
    main()
